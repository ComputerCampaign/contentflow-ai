# =============================================================================
# 爬虫平台Docker部署环境配置文件
# =============================================================================
# 说明：此文件包含了MySQL数据库和Airflow的所有环境变量配置
# 使用方法：复制此文件为.env并根据实际情况修改配置值
# 重要提示：敏感信息（如密码和令牌）应该只存储在环境变量中，不要提交到版本控制

# =============================================================================
# MySQL数据库配置
# =============================================================================
MYSQL_HOST=crawler_mysql
MYSQL_PORT=3306
MYSQL_DATABASE=crawler_db
MYSQL_USER=crawler_usage
MYSQL_PASSWORD=crawler_usage_Pwd123!
MYSQL_ROOT_PASSWORD=crawler_mysql_Root456!

# =============================================================================
# Airflow核心配置
# =============================================================================
AIRFLOW_UID=50000
AIRFLOW_GID=0
AIRFLOW_HOME=/opt/airflow

# =============================================================================
# Airflow数据库配置
# =============================================================================
AIRFLOW_DB_HOST=crawler_mysql
AIRFLOW_DB_PORT=3306
AIRFLOW_DB_NAME=crawler_airflow_db
AIRFLOW_DB_USER=crawler_airflow_usage
AIRFLOW_DB_PASSWORD=crawler_airflow_usage_Pwd123!

# =============================================================================
# Airflow安全配置
# =============================================================================
# 注意：生产环境请更换为随机生成的密钥
AIRFLOW_FERNET_KEY=ZmDfcTF7_60GrrY167zsiPd67pEvs0aGqv73DKFUOyM=
AIRFLOW_SECRET_KEY=crawler-platform-secret-key-2024

# =============================================================================
# Airflow管理员用户配置
# =============================================================================
AIRFLOW_ADMIN_USERNAME=admin
AIRFLOW_ADMIN_PASSWORD=admin123
AIRFLOW_ADMIN_FIRSTNAME=Admin
AIRFLOW_ADMIN_LASTNAME=User
AIRFLOW_ADMIN_EMAIL=admin@crawler-platform.com

# =============================================================================
# Airflow服务配置
# =============================================================================
AIRFLOW_SERVICE_TYPE=webserver
AIRFLOW_INIT_DB=true
AIRFLOW_CREATE_ADMIN=true
AIRFLOW_EXECUTOR=LocalExecutor

# =============================================================================
# Airflow网络配置
# =============================================================================
AIRFLOW_WEBSERVER_HOST=0.0.0.0
AIRFLOW_WEBSERVER_PORT=8080

# =============================================================================
# Airflow性能配置
# =============================================================================
AIRFLOW_PARALLELISM=32
AIRFLOW_DAG_CONCURRENCY=16
AIRFLOW_MAX_ACTIVE_RUNS_PER_DAG=16

# =============================================================================
# Airflow日志和调试配置
# =============================================================================
AIRFLOW_LOG_LEVEL=INFO
AIRFLOW_TIMEZONE=Asia/Shanghai
AIRFLOW_DEBUG=false
AIRFLOW_EXPOSE_CONFIG=false

# =============================================================================
# Airflow开发配置
# =============================================================================
AIRFLOW_LOAD_EXAMPLES=false
AIRFLOW_LOAD_DEFAULT_CONNECTIONS=false

# =============================================================================
# Airflow邮件配置（可选）
# =============================================================================
# AIRFLOW_SMTP_HOST=smtp.gmail.com
# AIRFLOW_SMTP_PORT=587
# AIRFLOW_SMTP_USER=your-email@gmail.com
# AIRFLOW_SMTP_PASSWORD=your-app-password
# AIRFLOW_SMTP_FROM=airflow@crawler-platform.com

# =============================================================================
# 后端API配置
# =============================================================================
BACKEND_API_URL=http://localhost:5002/api/v1

# =============================================================================
# Redis配置（如果使用CeleryExecutor）
# =============================================================================
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
